(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{108:function(e,t,s){},111:function(e,t,s){"use strict";s.r(t);var a=s(1),r=s(22),c=s.n(r),n=s(8),i=s(38),o=s(65),A=s(64);const d="PRODUCT_LIST_REQUEST",l="PRODUCT_LIST_SUCCESS",j="PRODUCT_LIST_FAIL",h="PRODUCT_DETAILS_REQUEST",p="PRODUCT_DETAILS_SUCCESS",m="PRODUCT_DETAILS_FAIL",b="PRODUCT_DELETE_REQUEST",u="PRODUCT_DELETE_SUCCESS",O="PRODUCT_DELETE_FAIL",x="PRODUCT_CREATE_REQUEST",g="PRODUCT_CREATE_SUCCESS",y="PRODUCT_CREATE_FAIL",I="PRODUCT_CREATE_RESET",f="PRODUCT_CREATE_REVIEW_REQUEST",E="PRODUCT_CREATE_REVIEW_SUCCESS",v="PRODUCT_CREATE_REVIEW_FAIL",C="CART_ADD_ITEM",S="CART_REMOVE_ITEM",D="CART_SAVE_SHIPPING_ADDRESS",L="CART_SAVE_PAYMENT_ADDRESS",w="ORDER_CREATE_REQUEST",R="ORDER_CREATE_SUCCESS",P="ORDER_CREATE_FAIL",k="ORDER_DETAILS_REQUEST",T="ORDER_DETAILS_SUCCESS",N="ORDER_DETAILS_FAIL",B="ORDER_PAY_REQUEST",U="ORDER_PAY_SUCCESS",F="ORDER_PAY_FAIL",Q="ORDER_LIST_REQUEST",G="ORDER_LIST_SUCCESS",M="ORDER_LIST_FAIL",z="ORDER_DELIVERED_REQUEST",H="ORDER_DELIVERED_SUCCESS",_="USER_LOGIN_REQUEST",q="USER_LOGIN_SUCCESS",V="USER_LOGIN_FAIL",Y="USER_LOGOUT",J="USER_REGISTER_REQUEST",W="USER_REGISTER_SUCCESS",K="USER_REGISTER_FAIL",X="USER_DETAILS_REQUEST",Z="USER_DETAILS_SUCCESS",$="USER_DETAILS_FAIL",ee="USER_PROFILE_UPDATE_REQUEST",te="USER_PROFILE_UPDATE_SUCCESS",se="USER_PROFILE_UPDATE_FAIL",ae="USER_LIST_REQUEST",re="USER_LIST_SUCCESS",ce="USER_LIST_FAIL",ne="USER_DELETE_REQUEST",ie="USER_DELETE_SUCCESS",oe="USER_DELETE_FAIL",Ae=Object(i.combineReducers)({productList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{loading:!0,products:[]};case l:return{loading:!1,products:t.payload.products,pages:t.payload.pages,page:t.payload.page};case j:return{loading:!1,error:t.error};default:return e}},productDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{loading:!0,...e};case p:return{loading:!1,product:t.payload};case m:return{loading:!1,error:t.error};default:return e}},productDelete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return{loading:!0,...e};case u:return{loading:!1,success:!0};case O:return{loading:!1,error:t.error};default:return e}},productCreate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{loading:!0};case g:return{loading:!1,success:!0,product:t.payload};case y:return{loading:!1,error:t.error};case I:return{};default:return e}},productCreateReview:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{loading:!0};case E:return{loading:!1,success:!0};case v:return{loading:!1,error:t.error};case"PRODUCT_CREATE_REVIEW_RESET":return{};default:return e}},cart:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:const s=t.payload,a=e.cartItems.find(e=>e.product===s.product);return a?{...e,cartItems:e.cartItems.map(e=>e.product===a.product?s:e)}:{...e,cartItems:[...e.cartItems,s]};case S:return{...e,cartItems:e.cartItems.filter(e=>e.product!==t.payload)};case D:return{...e,shippingAddress:t.payload};case L:return{...e,paymentAddress:t.payload};default:return e}},userLogin:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return{loading:!0};case q:return{loading:!1,userInfo:t.payload};case V:return{loading:!1,error:t.error};case Y:return{};default:return e}},userRegister:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return{loading:!0};case W:return{loading:!1,userInfo:t.payload};case K:return{loading:!1,error:t.error};case Y:return{};default:return e}},userDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return{loading:!0};case Z:return{loading:!1,user:t.payload};case $:return{loading:!1,error:t.error};case Y:return{};default:return e}},userUpdate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return{loading:!0};case te:return{loading:!1,userInfo:t.payload};case se:return{loading:!1,error:t.error};default:return e}},userList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return{loading:!0};case re:return{loading:!1,users:t.payload};case ce:return{loading:!1,error:t.error};default:return e}},userDelete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return{loading:!0};case ie:return{loading:!1,success:!0};case"USER_DELETE_SUCCESS":return{loading:!1,success:!1};case oe:return{loading:!1,error:t.error};default:return e}},createOrder:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return{loading:!0};case R:return{loading:!1,success:!0,order:t.payload};case P:return{loading:!1,error:t.payload};default:return e}},orderDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{...e,loading:!0,orderkkkk:[]};case T:return{loading:!1,order:t.payload};case N:return{loading:!1,error:t.error};default:return e}},orderPay:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return{loading:!0};case U:return{loading:!1,success:!0};case F:case"ORDER_PAY_RESET":return{loading:!1,error:t.error};default:return e}},orderList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return{loading:!0,orders:[]};case G:return{loading:!1,orders:t.payload};case M:return{loading:!1,error:t.error};default:return e}},orderDelivered:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return{loading:!0};case H:return{loading:!1,success:!0};case"ORDER_DELIVERED_FAIL":case"ORDER_DELIVERED_RESET":return{loading:!1,error:t.error};default:return e}}}),de=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],le=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,je={cart:{cartItems:de,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentAddress:localStorage.getItem("paymentAddress")?JSON.parse(localStorage.getItem("paymentAddress")):{}},userLogin:{userInfo:le}},he=[o.a];var pe=Object(i.createStore)(Ae,je,Object(A.composeWithDevTools)(Object(i.applyMiddleware)(...he))),me=(s(80),s(81),s(116)),be=s(115),ue=s(67),Oe=s(125),xe=s(117),ge=s(9),ye=s(7),Ie=s.n(ye);const fe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return async s=>{try{s({type:d});const{data:a}=await Ie.a.get(`/api/products/?keyword=${e}&pageNumber=${t}`);s({type:l,payload:a})}catch(a){s({type:j,payload:a.response&&a.response.data.message?a.response.data.message:a.message})}}};var Ee=s(114),ve=s(0);class Ce extends a.Component{render(){return Object(ve.jsx)("div",{className:"d-flex justify-content-center py-5",children:Object(ve.jsx)(Ee.a,{animation:"border",role:"status"})})}}var Se=s(123);class De extends a.Component{render(){return Object(ve.jsx)("div",{children:Object(ve.jsx)(Se.a,{variant:"info",children:this.props.message?this.props.message:"Error occur"})})}}class Le extends a.Component{render(){const{value:e,text:t,color:s}=this.props;return Object(ve.jsxs)("div",{children:[Object(ve.jsx)("span",{children:Object(ve.jsx)("i",{style:{color:s},className:e>=1?"fas fa-star":e>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(ve.jsx)("span",{children:Object(ve.jsx)("i",{style:{color:s},className:e>=2?"fas fa-star":e>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(ve.jsx)("span",{children:Object(ve.jsx)("i",{style:{color:s},className:e>=3?"fas fa-star":e>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(ve.jsx)("span",{children:Object(ve.jsx)("i",{style:{color:s},className:e>=4?"fas fa-star":e>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(ve.jsx)("span",{children:Object(ve.jsx)("i",{style:{color:s},className:e>=5?"fas fa-star":e>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(ve.jsx)("span",{children:t&&t})]})}}Le.defaultProps={color:"#f8e825"};var we=s(124),Re=s(14);class Pe extends a.Component{render(){const{pages:e,page:t,isAdmin:s=!1,keyword:a=""}=this.props;return e>1&&Object(ve.jsx)(we.a,{children:[...Array(e).keys()].map(e=>Object(ve.jsx)(Re.LinkContainer,{to:a?`/search/${a}/page/${e+1}`:`/page/${e+1}`,children:Object(ve.jsx)(we.a.Item,{active:e+1===t,children:e+1})},e+1))})}}var ke=s(11),Te=s(121);class Ne extends a.Component{constructor(){super(),this.state={topProduct:null}}componentDidMount(){Ie.a.get("/api/products/top/product").then(e=>{console.log(e.data),this.setState({topProduct:e.data})}).catch(e=>{console.log(e)})}render(){const{topProduct:e}=this.state;return null===e?Object(ve.jsx)(Ce,{}):Object(ve.jsx)(Te.a,{pause:"hover",className:"bg-light ",style:{height:500,marginBottom:50},children:e.map(e=>Object(ve.jsx)(Te.a.Item,{style:{width:"100%",height:"100%"},children:Object(ve.jsxs)(be.a,{children:[Object(ve.jsx)(ue.a,{sm:12,md:6,children:Object(ve.jsx)("img",{className:"d-block w-100",src:e.image,alt:e.name,style:{objectFit:"cover",height:500}})}),Object(ve.jsx)(ue.a,{sm:12,md:6,children:Object(ve.jsx)(ge.Link,{to:`/product/${e._id}`,children:Object(ve.jsx)("div",{children:Object(ve.jsx)("h3",{style:{fontWeight:"bold",fontSize:40,textAlign:"center",marginTop:180},children:e.name})})})})]})}))})}}var Be=s(68);class Ue extends a.Component{render(){const{title:e,description:t,keyword:s}=this.props;return Object(ve.jsxs)(Be.a,{children:[Object(ve.jsx)("meta",{charSet:"utf-8"}),Object(ve.jsx)("title",{children:e}),Object(ve.jsx)("meta",{name:"description",content:t}),Object(ve.jsx)("meta",{name:"keyword",content:s})]})}}Ue.defaultProps={title:"BookShelf | Turning Pages into Next Possibility"};var Fe=s.p+"static/media/back-in-time.e032b6bd.png",Qe=s.p+"static/media/credit-card.61603431.png";s(108);class Ge extends a.Component{constructor(){super(...arguments),this._isMounted=!1,this.state={topProduct:null}}componentDidMount(){this._isMounted=!0,Ie.a.get("/api/products/top/product").then(e=>{let{data:t}=e;this._isMounted&&t.length>=3&&this.setState({topProduct:t})}).catch(console.error)}componentWillUnmount(){this._isMounted=!1}render(){const{topProduct:e}=this.state;return e?Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("h2",{children:"Popular Products"}),Object(ve.jsxs)(be.a,{children:[Object(ve.jsx)(ue.a,{children:Object(ve.jsx)(ge.Link,{to:`/product/${e[0]._id}`,children:Object(ve.jsx)("img",{src:e[0].image,alt:e[0].name,className:"top_0_product"})})}),Object(ve.jsx)(ue.a,{children:[1,2].map(t=>Object(ve.jsx)(ge.Link,{to:`/product/${e[t]._id}`,children:Object(ve.jsx)("img",{src:e[t].image,alt:e[t].name,className:"top_1_product"})},t))})]})]}):Object(ve.jsx)(Ce,{})}}const Me=[{id:1,img:"data:image/png;base64,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",title:"FREE SHIPPING",description:"For all order over 99$"},{id:2,img:Fe,title:"DELIVERY ON TIME",description:"If good have prolems"},{id:3,img:Qe,title:"SECURE PAYMENT",description:"100% secure payment"}];class ze extends a.Component{constructor(){super(),this.state={data:[],pageNumber:1,page:void 0}}componentDidMount(){window.scrollTo(0,0);const{keyword:e}=this.props.match.params,t=this.props.match.params.pageNumber||1;this.props.dispatch(fe(e,t))}render(){const{loading:e,error:t,products:s,pages:a,page:r}=this.props.getProductListData,{keyword:c}=this.props.match.params;return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Ue,{}),!c&&Object(ve.jsx)(Ne,{}),Object(ve.jsxs)(me.a,{children:[!c&&Object(ve.jsx)("h2",{children:"Latest products"}),c&&Object(ve.jsxs)(ve.Fragment,{children:[" ",Object(ve.jsx)(ge.Link,{to:"/",children:Object(ve.jsx)("h6",{style:{marginTop:140,marginBottom:10,color:"blue"},children:"Go Ahead. Search Prepared"})}),Object(ve.jsx)("p",{style:{opacity:.6,fontSize:10},children:"Search keyword is not working here"})]}),e?Object(ve.jsx)(Ce,{}):t?Object(ve.jsx)(De,{}):Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(be.a,{className:"pb-5 mb-5",children:!(void 0===s)&&Object(ve.jsx)(ve.Fragment,{children:s.map((e,t)=>Object(ve.jsx)(ve.Fragment,{children:!("/images/sample.jpeg"===e.image)&&Object(ve.jsx)(ue.a,{sm:12,md:6,lg:3,xl:3,children:Object(ve.jsxs)(Oe.a,{className:"my-3",style:{border:"none"},children:[Object(ve.jsx)(Oe.a.Img,{fluid:!0,alt:"Card image",as:xe.a,variant:"top",src:e.image}),Object(ve.jsxs)(Oe.a.Body,{children:[Object(ve.jsx)(ge.Link,{to:`/product/${e._id}`,children:Object(ve.jsx)(Oe.a.Title,{as:"div",children:Object(ve.jsx)("strong",{style:{fontSize:14,fontWeight:500},children:e.name})})}),Object(ve.jsx)(Le,{value:e.rating,text:`${e.numReviews} reviews`}),Object(ve.jsxs)(Oe.a.Text,{as:"h5",children:["$",e.price]})]})]})},t)}))})}),Object(ve.jsx)(Pe,{pages:a,page:r,keyword:c||""}),Object(ve.jsx)("div",{className:"shipmentContainer",children:Me.map((e,t)=>Object(ve.jsxs)("div",{className:"innerShipmentContainer",children:[Object(ve.jsx)("img",{src:e.img,alt:"Logo"}),Object(ve.jsxs)("div",{style:{marginLeft:30},children:[Object(ve.jsx)("h1",{style:{fontSize:18,fontWeight:"bold"},children:e.title}),Object(ve.jsx)("p",{children:e.description})]})]},t))}),Object(ve.jsx)(Ge,{})]})]})]})}}var He=Object(ke.o)(Object(n.b)(e=>({getProductListData:e.productList}))(ze)),_e=s(126),qe=s(120),Ve=s(71);class Ye extends a.Component{constructor(){super(),this.addToCartHandler=()=>{this.props.history.push(`/cart/${this.props.match.params.id}?qty=${this.state.qty}`)},this.submitHandler=e=>{var t,s;this.state.comment&&(this.props.dispatch((t=this.props.match.params.id,s={rating:this.state.rating,comment:this.state.comment},async(e,a)=>{try{e({type:f});const a={headers:{Authorization:`Bearer ${pe.getState().userLogin.userInfo.token}`}};await Ie.a.post(`/api/products/${t}/reviews`,s,a),e({type:E})}catch(r){e({type:v,payload:r.response&&r.response.data.message?r.response.data.message:r.message})}})),setTimeout(()=>{window.location.reload()},10))},this.state={Product:[],qty:1,rating:1,comment:"",comment_error:""}}componentDidMount(){var e;window.scrollTo(0,0),this.props.dispatch((e=this.props.match.params.id,async t=>{try{t({type:h});const{data:s}=await Ie.a.get(`/api/products/${e}`);t({type:p,payload:s})}catch(s){t({type:m,payload:s.response&&s.response.data.message?s.response.data.message:s.message})}}))}render(){const{loading:e,error:t,product:s}=this.props.getProductDetailsData,{userInfo:a}=this.props.getLoginInfoData;return Object(ve.jsx)("div",{className:"py-5 px-5",children:e?Object(ve.jsx)(Ce,{}):t?Object(ve.jsx)(De,{}):Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Ue,{title:s.name}),Object(ve.jsxs)(be.a,{children:[Object(ve.jsx)(ue.a,{sm:12,md:6,lg:4,xl:4,children:Object(ve.jsx)(xe.a,{style:{width:"100%"},src:s.image,rounded:!0})}),Object(ve.jsx)(ue.a,{sm:12,md:6,lg:4,xl:4,children:Object(ve.jsx)(Oe.a,{style:{border:"none"},children:Object(ve.jsxs)(_e.a,{variant:"flush",children:[Object(ve.jsx)(_e.a.Item,{as:"h3",children:s.name}),Object(ve.jsx)(_e.a.Item,{children:Object(ve.jsx)(Le,{value:s.rating,text:`${s.numReviews} reviews`})}),Object(ve.jsxs)(_e.a.Item,{children:["Price:"," ",Object(ve.jsxs)("span",{style:{fontWeight:700},children:["$",s.price]})]}),Object(ve.jsx)(_e.a.Item,{children:s.description})]})})}),Object(ve.jsx)(ue.a,{sm:12,md:6,lg:4,xl:4,children:Object(ve.jsx)(Oe.a,{children:Object(ve.jsxs)(_e.a,{variant:"flush",children:[Object(ve.jsx)(_e.a.Item,{children:Object(ve.jsxs)(be.a,{children:[Object(ve.jsx)(ue.a,{children:"Price: "}),Object(ve.jsxs)(ue.a,{children:["$",s.price]})]})}),Object(ve.jsx)(_e.a.Item,{children:Object(ve.jsxs)(be.a,{children:[Object(ve.jsx)(ue.a,{children:"Status:"}),Object(ve.jsx)(ue.a,{children:s.countInStock>0?Object(ve.jsx)("span",{style:{color:"green"},children:"In Stock"}):Object(ve.jsx)("span",{style:{color:"red"},children:"Out of stock"})})]})}),Object(ve.jsx)(_e.a.Item,{children:Object(ve.jsxs)(be.a,{children:[Object(ve.jsx)(ue.a,{children:"Qty:"}),Object(ve.jsx)(ue.a,{children:s.countInStock>0?Object(ve.jsx)(qe.a.Control,{as:"select",value:this.state.qty,onChange:e=>this.setState({qty:e.target.value}),children:[...Array(s.countInStock).keys()].map(e=>Object(ve.jsx)("option",{value:e+1,children:e+1},e+1))}):0})]})}),Object(ve.jsx)(_e.a.Item,{children:Object(ve.jsx)(Ve.a,{onClick:this.addToCartHandler,disabled:0===s.countInStock,style:{width:"100%"},variant:"dark",children:"Add To Cart"})})]})})})]}),Object(ve.jsxs)(be.a,{className:"py-5",children:[Object(ve.jsx)(ue.a,{md:6,children:Object(ve.jsx)(_e.a,{variant:"flush",children:Object(ve.jsxs)(_e.a.Item,{children:[Object(ve.jsx)("h4",{children:"Write a customer review"}),a?Object(ve.jsxs)(qe.a,{children:[Object(ve.jsxs)(qe.a.Group,{controllId:"rating",children:[Object(ve.jsx)(qe.a.Label,{children:"Rating"}),Object(ve.jsxs)(qe.a.Control,{as:"select",value:this.state.rating,onChange:e=>this.setState({rating:e.target.value}),children:[Object(ve.jsx)("option",{value:"",children:"Select..."}),Object(ve.jsx)("option",{value:"1",children:"1 - Poor"}),Object(ve.jsx)("option",{value:"2",children:"2 - Fair"}),Object(ve.jsx)("option",{value:"3",children:"3 - Good"}),Object(ve.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(ve.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(ve.jsxs)(qe.a.Group,{controllId:"comment",children:[Object(ve.jsx)(qe.a.Label,{children:"Comment"}),Object(ve.jsx)(qe.a.Control,{as:"textarea",row:"3",value:this.state.comment,onChange:e=>this.setState({comment:e.target.value})}),Object(ve.jsx)(qe.a.Text,{className:"text-muted",style:{color:"red"},children:"One user is only add one review !!!"}),Object(ve.jsx)(Ve.a,{disabled:!this.state.comment,type:"button",className:"my-2",variant:"primary",onClick:this.submitHandler,children:"Submit"})]})]}):Object(ve.jsxs)("p",{children:["Please"," ",Object(ve.jsx)(ge.Link,{to:"/login",style:{color:"red"},children:"sign in"})," ","to write a review"," "]})]})})}),Object(ve.jsx)(ue.a,{md:6,children:Object(ve.jsxs)(_e.a,{variant:"flush",children:[Object(ve.jsx)("h4",{children:"Reviews"}),0===s.reviews.length&&Object(ve.jsx)("p",{children:"No reviews"}),s.reviews.map(e=>Object(ve.jsxs)(_e.a.Item,{children:[Object(ve.jsx)("h6",{children:e.name}),Object(ve.jsx)(Le,{value:e.rating,text:""}),Object(ve.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(ve.jsx)("p",{children:e.comment})]},e._id))]})})]})]})})}}var Je=Object(n.b)(e=>({getProductDetailsData:e.productDetails,getLoginInfoData:e.userLogin}))(Ye),We=s(122),Ke=s(127),Xe=s(119);const Ze=()=>async(e,t)=>{try{e({type:ae});const t={headers:{Authorization:`Bearer ${pe.getState().userLogin.userInfo.token}`}},{data:s}=await Ie.a.get("/api/users",t);e({type:re,payload:s})}catch(s){e({type:ce,payload:s.response&&s.response.data.message?s.response.data.message:s.message})}};class $e extends a.Component{constructor(){super(),this.submitHandler=e=>{const{keyword:t}=this.state;e.preventDefault(),t.trim()?this.props.history.push(`/search/${t}`):this.props.history.push("/")},this.state={keyword:""}}render(){return Object(ve.jsx)(qe.a,{onSubmit:this.submitHandler,inline:!0,children:Object(ve.jsxs)(qe.a.Group,{controllId:"keyword",children:[Object(ve.jsx)(qe.a.Control,{type:"text",name:"q",placeholder:"Search books...",className:"mr-sm-2 ml-sm-5",value:this.state.keyword,onChange:e=>this.setState({keyword:e.target.value})}),Object(ve.jsx)(Ve.a,{type:"submit",variant:"outline-dark",className:"p-2",children:"Search"})]})})}}var et=Object(ke.o)($e);class tt extends a.Component{constructor(){super(...arguments),this.logout=()=>{this.props.dispatch(async e=>{localStorage.removeItem("userInfo"),e({type:Y})}),this.props.history.push("/login")}}render(){const{userInfo:e}=this.props.getLoginInfoData;return Object(ve.jsx)("header",{style:{marginBottom:95},children:Object(ve.jsxs)(We.a,{bg:"light",className:"px-5",fixed:"top",expand:"lg",children:[Object(ve.jsxs)(We.a.Brand,{href:"/",children:[Object(ve.jsx)("i",{className:"fas fa-shopping-bag"})," ",Object(ve.jsx)("span",{style:{color:"red",fontWeight:"700"},children:"book"}),"SHELF"]}),Object(ve.jsx)(We.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(ve.jsxs)(We.a.Collapse,{id:"basic-navbar-nav",children:[Object(ve.jsx)(ke.d,{render:e=>{let{history:t,match:s}=e;return Object(ve.jsx)(et,{history:t,match:s})}}),Object(ve.jsxs)(Ke.a,{className:"ml-auto",children:[Object(ve.jsx)(Ke.a.Link,{children:Object(ve.jsxs)(ge.Link,{to:"/cart",children:[Object(ve.jsx)("i",{className:"fas fa-shopping-cart"})," Cart"]})}),e&&e.isAdmin&&Object(ve.jsxs)(Xe.a,{title:"Dashboard",id:"adminmenu",children:[Object(ve.jsx)(Xe.a.Item,{children:Object(ve.jsx)(ge.Link,{to:"/admin/userlist",children:"Users"})}),Object(ve.jsx)(Xe.a.Item,{children:Object(ve.jsx)(ge.Link,{to:"/admin/productslist",children:"Products"})}),Object(ve.jsx)(Xe.a.Item,{children:Object(ve.jsx)(ge.Link,{to:"/orderslist",children:"Orders"})})]}),e?Object(ve.jsxs)(Xe.a,{title:e.name,id:"basic-nav-dropdown",children:[Object(ve.jsx)(Xe.a.Item,{children:Object(ve.jsx)(ge.Link,{to:"/profile",children:"Profile"})}),Object(ve.jsx)(Xe.a.Item,{onClick:this.logout,children:"Logout"})]}):Object(ve.jsx)(Ke.a.Link,{children:Object(ve.jsxs)(ge.Link,{to:"/login",children:[Object(ve.jsx)("i",{className:"fas fa-user"})," Sign In"]})})]})]})]})})}}var st=Object(n.b)(e=>({getLoginInfoData:e.userLogin}))(tt);class at extends a.Component{render(){return Object(ve.jsx)("div",{className:"d-flex justify-content-center py-5 mt-5",children:Object(ve.jsxs)("a",{href:"https://portfolio-kxhf.onrender.com/",target:"_blank",children:[Object(ve.jsx)("i",{className:"fas fa-code"})," with ",Object(ve.jsx)("i",{className:"fas fa-heart"})," ","Anurudha Sarkar"]})})}}const rt=(e,t)=>async(s,a)=>{const{data:r}=await Ie.a.get(`/api/products/${e}`);s({type:C,payload:{product:r._id,name:r.name,image:r.image,price:r.price,countInStock:r.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems))};class ct extends a.Component{constructor(){super(...arguments),this.removeFromCartHandler=e=>{this.props.dispatch((e=>async(t,s)=>{t({type:S,payload:e}),localStorage.setItem("cartItems",JSON.stringify(s().cart.cartItems))})(e))},this.checkoutHandler=()=>this.props.getUserLoginData.userInfo?this.props.history.push("/shipping"):this.props.history.push("/login")}componentDidMount(){window.scrollTo(0,0);const e=this.props.match.params.id,t=this.props.location.search?Number(this.props.location.search.split("=")[1]):1;e&&this.props.dispatch(rt(e,t))}render(){const{cartItems:e}=this.props.getcartData;return Object(ve.jsx)(me.a,{className:"py-4",children:Object(ve.jsxs)(be.a,{children:[Object(ve.jsxs)(ue.a,{md:8,children:[Object(ve.jsx)("h3",{children:"Shopping cart"}),0===e.length?Object(ve.jsx)(De,{message:"Your cart is empty"}):Object(ve.jsx)(_e.a,{variant:"flush",children:e.map(e=>Object(ve.jsx)(_e.a.Item,{children:Object(ve.jsxs)(be.a,{children:[Object(ve.jsx)(ue.a,{md:2,children:Object(ve.jsx)(xe.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(ve.jsx)(ue.a,{md:3,children:Object(ve.jsx)(ge.Link,{to:`/product/${e.product}`,children:e.name})}),Object(ve.jsxs)(ue.a,{md:2,children:["$",e.price]}),Object(ve.jsx)(ue.a,{md:2,children:Object(ve.jsx)(qe.a.Control,{as:"select",value:e.qty,onChange:t=>this.props.dispatch(rt(e.product,Number(t.target.value))),children:[...Array(e.countInStock).keys()].map(e=>Object(ve.jsx)("option",{value:e+1,children:e+1},e+1))})}),Object(ve.jsx)(ue.a,{md:2,children:Object(ve.jsx)(Ve.a,{type:"button",variant:"light",onClick:()=>this.removeFromCartHandler(e.product),children:Object(ve.jsx)("i",{className:"fas fa-trash"})})})]})},e.product))})]}),Object(ve.jsx)(ue.a,{md:4,children:Object(ve.jsx)(Oe.a,{children:Object(ve.jsxs)(_e.a,{children:[Object(ve.jsx)(_e.a.Item,{children:Object(ve.jsxs)("h5",{children:["Subtotal"," ",e.reduce((e,t)=>e+t.qty,0)," items $",e.reduce((e,t)=>e+t.qty*t.price,0).toFixed(2)]})}),Object(ve.jsx)(_e.a.Item,{children:Object(ve.jsx)(Ve.a,{type:"button",className:"d-block w-100",disabled:0===e.length,onClick:()=>this.checkoutHandler(),children:"Proceed to checkout"})})]})})})]})})}}var nt=Object(n.b)(e=>({getcartData:e.cart,getUserLoginData:e.userLogin}))(ct);class it extends a.Component{render(){return Object(ve.jsx)(me.a,{className:"py-5",children:Object(ve.jsx)(be.a,{className:"justify-content-md-center",children:Object(ve.jsx)(ue.a,{xs:12,md:6,children:this.props.children})})})}}class ot extends a.Component{render(){const{variant:e,message:t,description:s,action:a}=this.props;return Object(ve.jsx)("div",{children:Object(ve.jsxs)(Se.a,{variant:e,children:[t&&t,s&&s,a&&Object(ve.jsx)(Ve.a,{onClick:a,children:"click here"})]})})}}class At extends a.Component{constructor(){super(),this.submitHandler=async e=>{this.setState({loader:!0}),e.preventDefault();const{email:t,password:s}=this.state;if(!t&&!s)return void this.setState({error:!0,loader:!1});await Ie.a.post("/api/users/login",{email:t,password:s},{headers:{"Content-Type":"application/json"}}).then(e=>{this.setState({error:!1,loader:!1}),localStorage.setItem("userInfo",JSON.stringify(e.data)),setTimeout(()=>{window.location.reload()},1)}).catch(e=>{console.log(e),this.setState({loader:!1,error:!0})})},this.state={email:"",password:"",error:!1,loader:!1}}componentDidMount(){window.scrollTo(0,0),this.props.getLoginInfoData.userInfo&&this.props.history.push("/")}render(){return Object(ve.jsxs)(it,{children:[Object(ve.jsx)("h2",{children:"Login"}),this.state.error&&Object(ve.jsx)(ot,{variant:"danger",message:"Email or password wrong!"}),Object(ve.jsxs)(qe.a,{children:[Object(ve.jsxs)(qe.a.Group,{controlId:"formBasicEmail",children:[Object(ve.jsx)(qe.a.Label,{children:"Email address"}),Object(ve.jsx)(qe.a.Control,{type:"email",placeholder:"Enter email",value:this.state.email,onChange:e=>this.setState({email:e.target.value})}),Object(ve.jsx)(qe.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(ve.jsxs)(qe.a.Group,{controlId:"formBasicPassword",children:[Object(ve.jsx)(qe.a.Label,{children:"Password"}),Object(ve.jsx)(qe.a.Control,{type:"password",placeholder:"Password",value:this.state.password,onChange:e=>this.setState({password:e.target.value})})]}),this.state.loader?Object(ve.jsx)(Ce,{}):Object(ve.jsx)(Ve.a,{disabled:!this.state.password||!this.state.email,variant:"primary",type:"submit",onClick:this.submitHandler,children:"Submit"})]}),Object(ve.jsx)(be.a,{className:"py-4 justify-content-md-center",children:Object(ve.jsxs)(ue.a,{children:["New customer ",Object(ve.jsx)(ge.Link,{to:"/register",children:"Register"})]})})]})}}var dt=Object(n.b)(e=>({getLoginInfoData:e.userLogin}))(At);class lt extends a.Component{constructor(){super(),this.submitHandler=async e=>{this.setState({loader:!0}),e.preventDefault();const{name:t,email:s,password:a}=this.state;if(!s||!(a.length>5)||!t.length>3)return void this.setState({error:!0,loader:!1});await Ie.a.post("/api/users",{name:t,email:s,password:a},{headers:{"Content-Type":"application/json"}}).then(e=>{this.setState({confirm_register:!0,error:!1,loader:!1})}).catch(e=>{console.log(e),this.setState({loader:!1})})},this.state={name:"",email:"",password:"",confirm_password:"",error:!1,confirm_register:!1,loader:!1}}componentDidMount(){window.scrollTo(0,0),this.props.getLoginInfoData.userInfo&&this.props.history.push("/")}render(){const{name:e,email:t,password:s,confirm_register:a,loader:r}=this.state;return Object(ve.jsxs)(it,{children:[Object(ve.jsx)("h2",{children:"Create account"}),a&&Object(ve.jsx)(ot,{variant:"success",message:Object(ve.jsxs)("p",{children:["You have registered succesfully. Please"," ",Object(ve.jsx)(ge.Link,{to:"login",children:Object(ve.jsx)("span",{style:{color:"red"},children:"signin"})})]})}),this.state.error&&Object(ve.jsx)(ot,{variant:"danger",message:Object(ve.jsxs)("div",{children:[Object(ve.jsx)("p",{children:"Password must be 6 chars long"})," ",Object(ve.jsx)("p",{children:"Must be a valid email address"})," ",Object(ve.jsx)("p",{children:"Name is required min 3 chars"})]})}),Object(ve.jsxs)(qe.a,{children:[Object(ve.jsxs)(qe.a.Group,{controlId:"formBasicEmail",children:[Object(ve.jsx)(qe.a.Label,{children:"Name"}),Object(ve.jsx)(qe.a.Control,{type:"text",placeholder:"Enter your name",value:e,onChange:e=>this.setState({name:e.target.value})})]}),Object(ve.jsxs)(qe.a.Group,{controlId:"formBasicEmail",children:[Object(ve.jsx)(qe.a.Label,{children:"Email address"}),Object(ve.jsx)(qe.a.Control,{type:"email",placeholder:"Enter email",value:t,onChange:e=>this.setState({email:e.target.value})}),Object(ve.jsx)(qe.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(ve.jsxs)(qe.a.Group,{controlId:"formBasicPassword",children:[Object(ve.jsx)(qe.a.Label,{children:"Password"}),Object(ve.jsx)(qe.a.Control,{type:"password",placeholder:"Password",value:s,onChange:e=>this.setState({password:e.target.value})})]}),r?Object(ve.jsx)(Ce,{}):Object(ve.jsx)(Ve.a,{disabled:!e||!s||!t,variant:"primary",type:"submit",onClick:this.submitHandler,children:"Submit"})]}),Object(ve.jsx)(be.a,{className:"py-4 justify-content-md-center",children:Object(ve.jsxs)(ue.a,{children:["Have an account ",Object(ve.jsx)(ge.Link,{to:"/login",children:"Login"})]})})]})}}var jt=Object(n.b)(e=>({getLoginInfoData:e.userLogin}))(lt),ht=s(118);class pt extends a.Component{constructor(){super(),this.submitHandler=e=>{var t;e.preventDefault(),this.props.dispatch((t={name:this.state.name,email:this.state.email,password:this.state.password},async(e,s)=>{try{e({type:ee});const s={headers:{"Content-Type":"application/json",Authorization:`Bearer ${pe.getState().userLogin.userInfo.token}`}},{data:a}=await Ie.a.put("/api/users/profile",t,s);e({type:te,payload:a}),localStorage.setItem("userInfo",JSON.stringify(a))}catch(a){e({type:se,payload:a.response&&a.response.data.message?a.response.data.message:a.message})}}))},this.state={name:"",email:"",password:"",confirm_password:"",loading:!0,myOrders:[]}}componentDidMount(){window.scrollTo(0,0);const e={headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.props.getLoginInfoData.userInfo.token}`}};Ie.a.get("/api/users/profile",e).then(e=>{this.setState({name:e.data.name,email:e.data.email,loading:!1})}).catch(e=>{console.log(e)}),Ie.a.get("/api/orders/myorders",e).then(e=>{this.setState({myOrders:e.data})}).catch(e=>{console.log(e)})}render(){if(!this.props.getLoginInfoData.userInfo)return Object(ve.jsx)(ke.c,{to:"/login"});const{name:e,email:t,password:s}=this.state;return Object(ve.jsx)(me.a,{className:"py-4",children:this.state.loading?Object(ve.jsx)(Ce,{}):Object(ve.jsxs)(be.a,{children:[Object(ve.jsxs)(ue.a,{md:4,children:[Object(ve.jsx)("h3",{children:"User Profile"}),Object(ve.jsxs)(qe.a,{children:[Object(ve.jsxs)(qe.a.Group,{controlId:"formBasicEmail",children:[Object(ve.jsx)(qe.a.Label,{children:"Name"}),Object(ve.jsx)(qe.a.Control,{type:"text",placeholder:"Enter your name",value:e,onChange:e=>this.setState({name:e.target.value})})]}),Object(ve.jsxs)(qe.a.Group,{controlId:"formBasicEmail",children:[Object(ve.jsx)(qe.a.Label,{children:"Email address"}),Object(ve.jsx)(qe.a.Control,{type:"email",placeholder:"Enter email",value:t,onChange:e=>this.setState({email:e.target.value})}),Object(ve.jsx)(qe.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(ve.jsxs)(qe.a.Group,{controlId:"formBasicPassword",children:[Object(ve.jsx)(qe.a.Label,{children:"Password"}),Object(ve.jsx)(qe.a.Control,{type:"password",placeholder:"Password",value:s,onChange:e=>this.setState({password:e.target.value})})]}),Object(ve.jsx)(Ve.a,{variant:"primary",type:"submit",className:"w-100",onClick:this.submitHandler,children:"Update profile"})]})]}),Object(ve.jsxs)(ue.a,{md:8,children:[Object(ve.jsx)("h4",{children:"My Orders"}),Object(ve.jsxs)(ht.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(ve.jsx)("thead",{children:Object(ve.jsxs)("tr",{children:[Object(ve.jsx)("th",{children:"ID"}),Object(ve.jsx)("th",{children:"TOTAL"}),Object(ve.jsx)("th",{children:"PAID"}),Object(ve.jsx)("th",{children:"DELIVERED"}),Object(ve.jsx)("th",{})]})}),Object(ve.jsx)("tbody",{children:this.state.myOrders?Object(ve.jsx)(ve.Fragment,{children:this.state.myOrders.reverse().map((e,t)=>Object(ve.jsxs)("tr",{children:[Object(ve.jsx)("th",{scope:"row",children:e._id}),Object(ve.jsxs)("td",{children:["$",e.totalPrice]}),Object(ve.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(ve.jsx)("i",{style:{color:"red"},className:"fa fa-times"})}),Object(ve.jsx)("td",{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(ve.jsx)("i",{style:{color:"red"},className:"fa fa-times"})}),Object(ve.jsx)("td",{children:Object(ve.jsx)(Re.LinkContainer,{to:`order/${e._id}`,children:Object(ve.jsx)(Ve.a,{variant:"light",children:"Details"})})})]}))}):Object(ve.jsx)("h4",{children:"No order yet"})})]})]})]})})}}var mt=Object(n.b)(e=>({getLoginInfoData:e.userLogin,getUserDetailsData:e.userDetails}))(pt);class bt extends a.Component{render(){const{step1:e,step2:t,step3:s,step4:a}=this.props;return Object(ve.jsxs)(Ke.a,{className:"justify-content-center mb-4",children:[Object(ve.jsx)(Ke.a.Item,{children:e?Object(ve.jsx)(Re.LinkContainer,{to:"/login",children:Object(ve.jsx)(Ke.a.Link,{children:"Sign In"})}):Object(ve.jsx)(Ke.a.Link,{disabled:!0,children:"Sign In"})}),Object(ve.jsx)(Ke.a.Item,{children:t?Object(ve.jsx)(Re.LinkContainer,{to:"/shipping",children:Object(ve.jsx)(Ke.a.Link,{children:"Shipping"})}):Object(ve.jsx)(Ke.a.Link,{disabled:!0,children:"Shipping"})}),Object(ve.jsx)(Ke.a.Item,{children:s?Object(ve.jsx)(Re.LinkContainer,{to:"/payment",children:Object(ve.jsx)(Ke.a.Link,{children:"Payment"})}):Object(ve.jsx)(Ke.a.Link,{disabled:!0,children:"Payment"})}),Object(ve.jsx)(Ke.a.Item,{children:a?Object(ve.jsx)(Re.LinkContainer,{to:"/placeorder",children:Object(ve.jsx)(Ke.a.Link,{children:"Place Order"})}):Object(ve.jsx)(Ke.a.Link,{disabled:!0,children:"Place Order"})})]})}}class ut extends a.Component{constructor(){super(),this.submitHandler=e=>{const{address:t,city:s,postalCode:a,country:r}=this.state;var c;e.preventDefault(),this.props.dispatch((c={address:t,city:s,postalCode:a,country:r},async e=>{e({type:D,payload:c}),localStorage.setItem("shippingAddress",JSON.stringify(c))})),this.props.history.push("/payment")},this.state={address:"",city:"",postalCode:"",country:""}}componentDidMount(){window.scrollTo(0,0);const e=this.props.getcartData.shippingAddress;e&&this.setState({address:e.address,city:e.city,postalCode:e.postalCode,country:e.country})}render(){return Object(ve.jsxs)(it,{children:[Object(ve.jsx)(bt,{step1:!0,step2:!0}),Object(ve.jsx)("h2",{children:"Shipping Address"}),Object(ve.jsxs)(qe.a,{children:[Object(ve.jsxs)(qe.a.Group,{controlId:"formBasicEmail",children:[Object(ve.jsx)(qe.a.Label,{children:"Address"}),Object(ve.jsx)(qe.a.Control,{type:"text",placeholder:"Enter address",value:this.state.address,onChange:e=>this.setState({address:e.target.value})})]}),Object(ve.jsxs)(qe.a.Group,{controlId:"formBasicPassword",children:[Object(ve.jsx)(qe.a.Label,{children:"City"}),Object(ve.jsx)(qe.a.Control,{type:"text",placeholder:"Enter city",value:this.state.city,onChange:e=>this.setState({city:e.target.value})})]}),Object(ve.jsxs)(qe.a.Group,{controlId:"formBasicEmail",children:[Object(ve.jsx)(qe.a.Label,{children:"Postal Code"}),Object(ve.jsx)(qe.a.Control,{type:"text",placeholder:"Enter pincode",value:this.state.postalCode,onChange:e=>this.setState({postalCode:e.target.value})})]}),Object(ve.jsxs)(qe.a.Group,{controlId:"formBasicEmail",children:[Object(ve.jsx)(qe.a.Label,{children:"Country"}),Object(ve.jsx)(qe.a.Control,{type:"text",placeholder:"Enter country",value:this.state.country,onChange:e=>this.setState({country:e.target.value})})]}),Object(ve.jsx)(Ve.a,{variant:"primary",type:"submit",onClick:this.submitHandler,children:"Continue"})]})]})}}var Ot=Object(n.b)(e=>({getLoginInfoData:e.userLogin,getcartData:e.cart}))(ut);class xt extends a.Component{constructor(){super(),this.submitHandler=e=>{const{paymentMethod:t}=this.state;var s;e.preventDefault(),this.props.dispatch((s={paymentMethod:t},async e=>{e({type:L,payload:s}),localStorage.setItem("paymentAddress",JSON.stringify(s))})),this.props.history.push("/placeorder")},this.state={paymentMethod:"PayPal"}}componentDidMount(){window.scrollTo(0,0)}render(){return Object(ve.jsxs)(it,{children:[Object(ve.jsx)(bt,{step1:!0,step2:!0,step3:!0}),Object(ve.jsx)("h2",{children:"Payment Method"}),Object(ve.jsxs)(qe.a,{children:[Object(ve.jsx)(qe.a.Check,{type:"radio",label:"Paypal or Credit Card",id:"PayPal",name:"paymentMethod",value:"PayPal",checked:!0,onChange:e=>this.setState({paymentMethod:e.target.value}),className:"py-2"}),Object(ve.jsx)("br",{}),Object(ve.jsx)(Ve.a,{variant:"primary",type:"submit",onClick:this.submitHandler,children:"Continue"})]})]})}}var gt=Object(n.b)(e=>({getLoginInfoData:e.userLogin}))(xt);const yt=()=>async e=>{try{e({type:Q});const t={headers:{"Content-Type":"application/json",Authorization:`Bearer ${pe.getState().userLogin.userInfo.token}`}},{data:s}=await Ie.a.get("/api/orders",t);e({type:G,payload:s})}catch(t){e({type:M,payload:t.response&&t.response.data.message?t.response.data.message:t.message})}};class It extends a.Component{constructor(){super(),this.addDecimals=e=>(Math.round(100*e)/100).toFixed(2),this.placeOrderHandler=()=>{const{itemsPrice:e,shippingPrice:t,taxPrice:s,totalPrice:a}=this.state,{cartItems:r,shippingAddress:c,paymentAddress:n}=this.props.getCartData;this.props.createOrder({orderItems:r,shippingAddress:c,paymentMethod:n.paymentMethod,itemsPrice:e,shippingPrice:t,taxPrice:s,totalPrice:a})},this.state={itemsPrice:"",shippingPrice:"",taxPrice:"",totalPrice:""}}componentDidMount(){window.scrollTo(0,0);const{cartItems:e,shippingAddress:t,paymentAddress:s}=this.props.getCartData,a=e.reduce((e,t)=>e+t.qty*t.price,0).toFixed(2),r=a>100?0:100,c=this.addDecimals(Number((.05*a).toFixed(2))),n=(Number(a)+Number(r)+Number(c)).toFixed(2);this.setState({itemsPrice:a,shippingPrice:r,taxPrice:c,totalPrice:n})}componentDidUpdate(e){if(this.props.getOrderData.order&&this.props.getOrderData.order!==e.getOrderData.order){const e=this.props.getOrderData.order._id;localStorage.removeItem("cartItems"),this.props.history.push(`/order/${e}`)}}render(){const e=this.props.getCartData,{itemsPrice:t,shippingPrice:s,taxPrice:a,totalPrice:r}=this.state;return e.cartItems&&0!==e.cartItems.length?Object(ve.jsxs)(me.a,{className:"py-5",children:[Object(ve.jsx)(bt,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(ve.jsxs)(be.a,{children:[Object(ve.jsx)(ue.a,{md:8,children:Object(ve.jsxs)(_e.a,{variant:"flush",children:[Object(ve.jsxs)(_e.a.Item,{children:[Object(ve.jsx)("h4",{children:"Shipping:"}),Object(ve.jsxs)("p",{children:[e.shippingAddress.address,", ",e.shippingAddress.city,","," ",e.shippingAddress.postalCode,", ",e.shippingAddress.country]})]}),Object(ve.jsxs)(_e.a.Item,{children:[Object(ve.jsx)("h4",{children:"Payment:"}),Object(ve.jsxs)("p",{children:["Method: ",e.paymentAddress.paymentMethod]})]}),Object(ve.jsxs)(_e.a.Item,{children:[Object(ve.jsx)("h4",{children:"Order Items:"}),0===e.cartItems.length?Object(ve.jsx)("p",{children:"Cart is empty"}):Object(ve.jsx)(_e.a,{variant:"flush",children:e.cartItems.map(e=>Object(ve.jsx)(_e.a.Item,{children:Object(ve.jsxs)(be.a,{children:[Object(ve.jsx)(ue.a,{md:1,children:Object(ve.jsx)(xe.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(ve.jsx)(ue.a,{children:Object(ve.jsx)(ge.Link,{to:`/product/${e.product}`,children:e.name})}),Object(ve.jsxs)(ue.a,{md:4,children:[e.qty," x $",e.price," = $",(e.qty*e.price).toFixed(2)]})]})},e.product))})]})]})}),Object(ve.jsx)(ue.a,{md:4,children:Object(ve.jsx)(Oe.a,{children:Object(ve.jsxs)(_e.a,{variant:"flush",children:[Object(ve.jsx)(_e.a.Item,{children:Object(ve.jsx)("h4",{children:"Order Summary"})}),Object(ve.jsxs)(_e.a.Item,{children:[Object(ve.jsxs)(be.a,{children:[Object(ve.jsx)(ue.a,{children:"Items"}),Object(ve.jsxs)(ue.a,{children:["$",t]})]}),Object(ve.jsxs)(be.a,{children:[Object(ve.jsx)(ue.a,{children:"Shipping"}),Object(ve.jsxs)(ue.a,{children:["$",s]})]}),Object(ve.jsxs)(be.a,{children:[Object(ve.jsx)(ue.a,{children:"Tax"}),Object(ve.jsxs)(ue.a,{children:["$",a]})]}),Object(ve.jsxs)(be.a,{children:[Object(ve.jsx)(ue.a,{children:"Total"}),Object(ve.jsxs)(ue.a,{children:["$",r]})]})]}),Object(ve.jsxs)(_e.a.Item,{children:[Object(ve.jsx)(Ve.a,{type:"button",className:"btn-block",disabled:0===e.cartItems.length||this.props.getLoginInfoData.userInfo.isAdmin,onClick:this.placeOrderHandler,children:"Place Order"}),this.props.getLoginInfoData.userInfo.isAdmin&&Object(ve.jsx)("small",{className:"text-muted",children:"You cannot purchase your own product"})]})]})})})]})]}):Object(ve.jsx)(Ce,{})}}var ft=Object(n.b)(e=>({getLoginInfoData:e.userLogin,getCartData:e.cart,getOrderData:e.createOrder}),{createOrder:e=>async(t,s)=>{try{t({type:w});const s={headers:{"Content-Type":"application/json",Authorization:`Bearer ${pe.getState().userLogin.userInfo.token}`}},{data:a}=await Ie.a.post("/api/orders",e,s);t({type:R,payload:a}),localStorage.setItem("orders",JSON.stringify(a))}catch(a){t({type:P,payload:a.response&&a.response.data.message?a.response.data.message:a.message})}}})(It),Et=s(72);class vt extends a.Component{constructor(){super(),this.successPaymentHandler=(e,t)=>{const s={id:e.id,status:e.status,update_time:e.update_time,email_address:e.payer.email_address};this.props.dispatch(((e,t)=>async(s,a)=>{try{s({type:B});const a={headers:{"Content-Type":"application/json",Authorization:`Bearer ${pe.getState().userLogin.userInfo.token}`}},{data:r}=await Ie.a.put(`/api/orders/${e}/pay`,t,a);s({type:U,payload:r})}catch(r){s({type:F,payload:r.response&&r.response.data.message?r.response.data.message:r.message})}})(this.props.match.params.id,s)),setTimeout(()=>{window.location.reload()},100)},this.orderDeliveredHandler=()=>{var e;this.props.dispatch((e=this.props.match.params.id,async(t,s)=>{try{t({type:z});const s={headers:{"Content-Type":"application/json",Authorization:`Bearer ${pe.getState().userLogin.userInfo.token}`}},{data:a}=await Ie.a.put(`/api/orders/${e}/deliver`,{},s);t({type:H})}catch(a){t({type:F,payload:a.response&&a.response.data.message?a.response.data.message:a.message})}})),setTimeout(()=>{window.location.reload()},100)},this.state={taxPrice:"",shippingPrice:"",totalPrice:"",itemsPrice:"",data:[],sdkReady:!1}}componentDidMount(){window.scrollTo(0,0);const e=async()=>{const{data:e}=await Ie.a.get("/api/config/paypal"),t=document.createElement("script");t.type="text/javascript",t.src=`https://www.paypal.com/sdk/js?client-id=${e}`,t.async=!0,t.onload=()=>{this.setState({sdkReady:!0})},document.body.appendChild(t)},t={headers:{Authorization:`Bearer ${this.props.getLoginInfoData.userInfo.token}`}};Ie.a.get(`/api/orders/${this.props.match.params.id}`,t).then(t=>{this.setState({data:t.data}),t.data.isPaid||(window.paypal?this.setState({sdkReady:!0}):e())}).catch(e=>{console.log(e)})}render(){if(!this.props.getLoginInfoData.userInfo)return Object(ve.jsx)(ke.c,{to:"/login"});const e=this.state.data,t=this.props.getLoginInfoData;return e.shippingAddress||e.orderItems?Object(ve.jsx)(me.a,{className:"py-5",children:Object(ve.jsxs)(be.a,{children:[Object(ve.jsxs)(ue.a,{ms:8,children:[Object(ve.jsxs)("h4",{children:["Order ",e._id]}),Object(ve.jsxs)(_e.a,{variant:"flush",children:[Object(ve.jsxs)(_e.a.Item,{children:[Object(ve.jsx)("h4",{children:"Shipping:"}),Object(ve.jsxs)("p",{children:["Name: ",t.userInfo.name]}),Object(ve.jsxs)("p",{children:["Email: ",t.userInfo.email]}),Object(ve.jsxs)("p",{children:["Address: ",e.shippingAddress[0].address," ",e.shippingAddress[0].city," ",e.shippingAddress[0].postalCode," ",e.shippingAddress[0].country]}),e.isDelivered?Object(ve.jsxs)(Se.a,{variant:"success",children:["Delivere at ",e.paidAt]}):Object(ve.jsx)(Se.a,{variant:"danger",children:"Not Delivered"})]}),Object(ve.jsxs)(_e.a.Item,{children:[Object(ve.jsx)("h4",{children:"Payment:"}),Object(ve.jsxs)("p",{children:["Method: ",e.paymentMethod]}),e.isPaid?Object(ve.jsxs)(Se.a,{variant:"success",children:["Paid at ",e.paidAt]}):Object(ve.jsx)(Se.a,{variant:"danger",children:"Not Paid"})]}),Object(ve.jsxs)(_e.a.Item,{children:[Object(ve.jsx)("h4",{children:"Order Items:"}),0===e.orderItems.length?Object(ve.jsx)("p",{children:"Cart is empty"}):Object(ve.jsx)(_e.a,{variant:"flush",children:e.orderItems.map((e,t)=>Object(ve.jsx)(_e.a.Item,{children:Object(ve.jsxs)(be.a,{children:[Object(ve.jsx)(ue.a,{md:1,children:Object(ve.jsx)(xe.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(ve.jsx)(ue.a,{children:Object(ve.jsx)(ge.Link,{to:`/product/${e.product}`,children:e.name})}),Object(ve.jsxs)(ue.a,{md:4,children:[e.qty," x $",e.price," = $",e.qty*e.price]})]})},t))})]})]})]}),Object(ve.jsx)(ue.a,{md:4,children:Object(ve.jsx)(Oe.a,{children:Object(ve.jsxs)(_e.a,{variant:"flush",children:[Object(ve.jsx)(_e.a.Item,{children:Object(ve.jsx)("h4",{children:"Order Summary"})}),Object(ve.jsxs)(_e.a.Item,{variant:"flush",children:[Object(ve.jsxs)(be.a,{children:[Object(ve.jsx)(ue.a,{children:"Items"}),Object(ve.jsxs)(ue.a,{children:["$",e.itemsPrice]})]}),Object(ve.jsxs)(be.a,{children:[Object(ve.jsx)(ue.a,{children:"Shipping"}),Object(ve.jsxs)(ue.a,{children:["$",e.shippingPrice]})]}),Object(ve.jsxs)(be.a,{children:[Object(ve.jsx)(ue.a,{children:"Tax"}),Object(ve.jsxs)(ue.a,{children:["$",e.taxPrice]})]}),Object(ve.jsxs)(be.a,{children:[Object(ve.jsx)(ue.a,{children:"Total"}),Object(ve.jsxs)(ue.a,{children:["$",e.totalPrice]})]})]}),!e.isPaid&&!t.userInfo.isAdmin&&Object(ve.jsx)(_e.a.Item,{children:this.state.sdkReady?Object(ve.jsx)(Et.PayPalButton,{amount:e.totalPrice,onSuccess:(e,t)=>this.successPaymentHandler(e,t)}):Object(ve.jsx)(Ce,{})}),t.userInfo.isAdmin&&e.isPaid&&!e.isDelivered&&Object(ve.jsx)(_e.a.Item,{children:Object(ve.jsx)(Ve.a,{className:"btn btn-block",type:"button",onClick:this.orderDeliveredHandler,children:"Mark As Delivered"})})]})})})]})}):Object(ve.jsx)(Ce,{})}}var Ct=Object(n.b)(e=>({getLoginInfoData:e.userLogin,getCartData:e.cart,getOrderDetailsData:e.orderDetails,getOrderPaymentData:e.orderPay}))(vt);function St(e){let{history:t}=e;const s=Object(n.c)(),r=Object(n.d)(e=>e.userList),{loading:c,error:i,users:o}=r,A=Object(n.d)(e=>e.userLogin),{userInfo:d}=A,l=Object(n.d)(e=>e.userDelete),{success:j}=l;Object(a.useEffect)(()=>{window.scrollTo(0,0),d&&d.isAdmin?s(Ze()):t.push("/")},[s,t,j]);const h=e=>{window.confirm("Are you sure?")&&s((e=>async(t,s)=>{try{t({type:ne});const s={headers:{Authorization:`Bearer ${pe.getState().userLogin.userInfo.token}`}};await Ie.a.delete(`/api/users/${e}`,s),t({type:ie})}catch(i){t({type:oe,payload:i.response&&i.response.data.message?i.response.data.message:i.message})}})(e)).then(()=>{s(Ze())})};return Object(ve.jsxs)(me.a,{className:"mt-5 p-5",children:[Object(ve.jsx)("h2",{children:"Users"}),c?Object(ve.jsx)(Ce,{}):i?Object(ve.jsx)("h1",{children:i}):Object(ve.jsxs)(ht.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(ve.jsx)("thead",{children:Object(ve.jsxs)("tr",{children:[Object(ve.jsx)("th",{children:"ID"}),Object(ve.jsx)("th",{children:"NAME"}),Object(ve.jsx)("th",{children:"EMAIL"}),Object(ve.jsx)("th",{children:"ADMIN"}),Object(ve.jsx)("th",{})]})}),Object(ve.jsx)("tbody",{children:void 0===o.users?"Something went wrong":Object(ve.jsx)(ve.Fragment,{children:o.users.map(e=>Object(ve.jsxs)("tr",{children:[Object(ve.jsx)("th",{scope:"row",children:e._id}),Object(ve.jsx)("td",{children:e.name}),Object(ve.jsx)("td",{children:e.email}),Object(ve.jsx)("td",{children:e.isAdmin?Object(ve.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(ve.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(ve.jsxs)("td",{children:[Object(ve.jsx)(Re.LinkContainer,{to:`user/${e._id}/edit`,children:Object(ve.jsx)(Ve.a,{variant:"light",className:"btn-sm",children:Object(ve.jsx)("i",{className:"fas fa-edit"})})}),Object(ve.jsx)(Ve.a,{onClick:()=>h(e._id),variant:"danger",className:"btn-sm",children:Object(ve.jsx)("i",{className:"fas fa-trash"})})]})]}))})})]})]})}class Dt extends a.Component{constructor(){super(),this.submitHandler=e=>{this.setState({loading:!0});const{name:t,email:s,isAdmin:a}=this.state,r={name:t,email:s,isAdmin:a},c={headers:{Authorization:`Bearer ${this.props.getLoginInfoData.userInfo.token}`}};Ie.a.put(`/api/users/${this.props.match.params.id}`,r,c).then(e=>{this.props.history.push("/admin/userlist"),this.setState({name:e.data.user.name,email:e.data.user.email,isAdmin:e.data.user.isAdmin,loading:!1})}).catch(e=>{console.log(e),this.setState({loading:!1})})},this.state={name:"",email:"",isAdmin:!1,loading:!0}}componentDidMount(){window.scrollTo(0,0),this.setState({loading:!0});const e={headers:{Authorization:`Bearer ${this.props.getLoginInfoData.userInfo.token}`}};Ie.a.get(`/api/users/${this.props.match.params.id}`,e).then(e=>{this.setState({name:e.data.user.name,email:e.data.user.email,isAdmin:e.data.user.isAdmin,loading:!1})}).catch(e=>{console.log(e),this.setState({loading:!1})})}render(){const{name:e,email:t,isAdmin:s}=this.state;return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsxs)(ge.Link,{to:"/admin/userlist",className:"btn btn-light mt-5 ml-5",children:[Object(ve.jsx)("i",{className:"fa fa-arrow-left"})," Go back"]}),Object(ve.jsxs)(it,{children:[Object(ve.jsx)("h2",{children:"Edit User Details"}),this.state.loading?Object(ve.jsx)(Ce,{}):Object(ve.jsxs)(qe.a,{children:[Object(ve.jsxs)(qe.a.Group,{controlId:"formBasicEmail",children:[Object(ve.jsx)(qe.a.Label,{children:"Name"}),Object(ve.jsx)(qe.a.Control,{type:"text",placeholder:"Enter your name",value:e,onChange:e=>this.setState({name:e.target.value})})]}),Object(ve.jsxs)(qe.a.Group,{controlId:"formBasicEmail",children:[Object(ve.jsx)(qe.a.Label,{children:"Email address"}),Object(ve.jsx)(qe.a.Control,{type:"email",placeholder:"Enter email",value:t,onChange:e=>this.setState({email:e.target.value})}),Object(ve.jsx)(qe.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(ve.jsx)(qe.a.Group,{controlId:"isAdmin",children:Object(ve.jsx)(qe.a.Check,{type:"Checkbox",label:"Is Admin",checked:s,onChange:e=>this.setState({isAdmin:e.target.checked})})}),Object(ve.jsx)(Ve.a,{variant:"primary",type:"submit",onClick:this.submitHandler,children:"Update"})]})]})]})}}var Lt=Object(n.b)(e=>({getLoginInfoData:e.userLogin,getUserDetailsData:e.getUserDetails}))(Dt);function wt(e){let{history:t}=e;const s=Object(n.c)(),{loading:r,error:c,products:i}=Object(n.d)(e=>e.productList),{userInfo:o}=Object(n.d)(e=>e.userLogin),{success:A}=Object(n.d)(e=>e.productDelete),{success:d,product:l}=Object(n.d)(e=>e.productCreate);Object(a.useEffect)(()=>{s({type:I}),o&&o.isAdmin?d?t.push(`/admin/product/${l.createdProduct._id}/edit`):s(fe()):t.push("/")},[s,t,o,A,d]);const j=e=>{window.confirm("Are you sure?")&&s((e=>async(t,s)=>{try{t({type:b});const s={headers:{Authorization:`Bearer ${pe.getState().userLogin.userInfo.token}`}};await Ie.a.delete(`/api/products/${e}`,s),t({type:u})}catch(c){t({type:O,payload:c.response&&c.response.data.message?c.response.data.message:c.message})}})(e))};return Object(ve.jsxs)(me.a,{className:"mt-5 p-5",children:[Object(ve.jsxs)(be.a,{className:"align-items-center",children:[Object(ve.jsx)(ue.a,{children:Object(ve.jsx)("h2",{children:"Products"})}),Object(ve.jsx)(ue.a,{className:"text-right",children:Object(ve.jsxs)(Ve.a,{className:"my-3",onClick:()=>{s(async(e,t)=>{try{e({type:x});const t={headers:{Authorization:`Bearer ${pe.getState().userLogin.userInfo.token}`}},{data:s}=await Ie.a.post("/api/products",{},t);e({type:g,payload:s})}catch(c){e({type:y,payload:c.response&&c.response.data.message?c.response.data.message:c.message})}})},children:[Object(ve.jsx)("i",{className:"fas fa-plus"})," Create Product"]})})]}),r?Object(ve.jsx)(Ce,{}):c?Object(ve.jsx)("h1",{children:c}):Object(ve.jsxs)(ht.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(ve.jsx)("thead",{children:Object(ve.jsxs)("tr",{children:[Object(ve.jsx)("th",{children:"ID"}),Object(ve.jsx)("th",{children:"NAME"}),Object(ve.jsx)("th",{children:"PRICE"}),Object(ve.jsx)("th",{children:"CATEGORY"}),Object(ve.jsx)("th",{children:"BRAND"}),Object(ve.jsx)("th",{children:"STOCK"}),Object(ve.jsx)("th",{})]})}),Object(ve.jsx)("tbody",{children:i.map(e=>Object(ve.jsxs)("tr",{children:[Object(ve.jsx)("th",{scope:"row",children:e._id}),Object(ve.jsx)("td",{children:e.name}),Object(ve.jsxs)("td",{children:["$",e.price]}),Object(ve.jsx)("td",{children:e.category}),Object(ve.jsx)("td",{children:e.brand}),Object(ve.jsx)("td",{children:e.countInStock}),Object(ve.jsxs)("td",{children:[Object(ve.jsx)(Re.LinkContainer,{to:`/admin/product/${e._id}/edit`,children:Object(ve.jsx)(Ve.a,{variant:"light",className:"btn-sm",children:Object(ve.jsx)("i",{className:"fas fa-edit"})})}),Object(ve.jsx)(Ve.a,{variant:"danger",className:"btn-sm",onClick:()=>j(e._id),children:Object(ve.jsx)("i",{className:"fas fa-trash"})})]})]},e._id))})]})]})}class Rt extends a.Component{constructor(){super(),this.submitHandler=e=>{this.setState({loading:!0});const{name:t,price:s,image:a,brand:r,category:c,countInStock:n,numReviews:i,description:o}=this.state,A={name:t,price:s,image:a,brand:r,category:c,countInStock:n,numReviews:i,description:o},d={headers:{Authorization:`Bearer ${this.props.getLoginInfoData.userInfo.token}`}};Ie.a.put(`/api/products/${this.props.match.params.id}`,A,d).then(e=>{this.props.history.push("/admin/productslist"),this.setState({loading:!1})}).catch(e=>{console.log(e),this.setState({loading:!1})})},this.onFileChange=e=>{this.setState({uploading:!0});var t=new FormData;t.append("image",e.target.files[0]),t.append("filetype","IMG"),Ie()({method:"post",url:"/api/upload",headers:{"Content-Type":"multipart/form-data"},data:t}).then(e=>{this.setState({image:e.data,uploading:!1})}).catch(e=>{this.setState({uploading:!1}),console.log("Error : "+e)})},this.state={name:"",price:"",image:"",brand:"",category:"",countInStock:"",numReviews:0,imageUrl:"https://placeimg.com/320/320/animals",description:"",loading:!0,uploading:!1}}componentDidMount(){window.scrollTo(0,0),this.setState({loading:!0});const e={headers:{Authorization:`Bearer ${this.props.getLoginInfoData.userInfo.token}`}};Ie.a.get(`/api/products/${this.props.match.params.id}`,e).then(e=>{console.log(e.data),this.setState({name:e.data.name,price:e.data.price,image:e.data.image,brand:e.data.brand,category:e.data.category,countInStock:e.data.countInStock,numReviews:e.data.numReviews,description:e.data.description,loading:!1})}).catch(e=>{console.log(e),this.setState({loading:!1})})}render(){const{name:e,price:t,image:s,brand:a,category:r,countInStock:c,numReviews:n,description:i}=this.state;return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsxs)(ge.Link,{to:"/admin/productslist",className:"btn btn-light mt-5 ml-5",children:[Object(ve.jsx)("i",{className:"fa fa-arrow-left"})," Go back"]}),Object(ve.jsxs)(it,{children:[Object(ve.jsx)("h2",{children:"Edit Product Details"}),this.state.loading?Object(ve.jsx)(Ce,{}):Object(ve.jsxs)(qe.a,{children:[Object(ve.jsxs)(qe.a.Group,{controlId:"formBasicEmail",children:[Object(ve.jsx)(qe.a.Label,{children:"Title"}),Object(ve.jsx)(qe.a.Control,{type:"text",placeholder:"Enter title",value:e,onChange:e=>this.setState({name:e.target.value})})]}),Object(ve.jsxs)(qe.a.Group,{controlId:"price",children:[Object(ve.jsx)(qe.a.Label,{children:"Price"}),Object(ve.jsx)(qe.a.Control,{type:"text",placeholder:"Enter Product Price",value:t,onChange:e=>this.setState({price:e.target.value})})]}),Object(ve.jsxs)(qe.a.Group,{controlId:"category",children:[Object(ve.jsx)(qe.a.Label,{children:"Category"}),Object(ve.jsx)(qe.a.Control,{type:"text",placeholder:"Enter category",value:r,onChange:e=>this.setState({category:e.target.value})})]}),Object(ve.jsxs)(qe.a.Group,{controlId:"author",children:[Object(ve.jsx)(qe.a.Label,{children:"Author"}),Object(ve.jsx)(qe.a.Control,{type:"text",placeholder:"Enter author name",value:a,onChange:e=>this.setState({brand:e.target.value})})]}),Object(ve.jsxs)(qe.a.Group,{controlId:"countInStock",children:[Object(ve.jsx)(qe.a.Label,{children:"Count In Stock"}),Object(ve.jsx)(qe.a.Control,{type:"text",placeholder:"Enter stock limit",value:c,onChange:e=>this.setState({countInStock:e.target.value})})]}),Object(ve.jsxs)(qe.a.Group,{controlId:"description",children:[Object(ve.jsx)(qe.a.Label,{children:"Description"}),Object(ve.jsx)(qe.a.Control,{type:"text",placeholder:"Enter description",value:i,onChange:e=>this.setState({description:e.target.value})})]}),Object(ve.jsxs)(qe.a.Group,{controlId:"image",children:[Object(ve.jsx)(qe.a.Label,{children:" Image "}),Object(ve.jsx)(qe.a.Control,{type:"text",placeholder:"Enter image url",value:s,onChange:e=>this.setState({image:e.target.value})}),Object(ve.jsx)(qe.a.File,{id:"img-upload",label:"Choose File",custom:!0,onChange:this.onFileChange}),this.state.uploading&&Object(ve.jsx)(Ce,{})]}),Object(ve.jsx)(Ve.a,{variant:"primary",type:"submit",onClick:this.submitHandler,children:"Update"})]})]})]})}}var Pt=Object(n.b)(e=>({getLoginInfoData:e.userLogin,getUserDetailsData:e.getUserDetails}))(Rt);function kt(e){let{history:t}=e;const s=Object(n.c)(),r=Object(n.d)(e=>e.orderList),{loading:c,error:i,orders:o}=r,A=Object(n.d)(e=>e.userLogin),{userInfo:d}=A,l=e=>{var t;window.confirm("Delete this order?")&&s((t=e,async(e,s)=>{const a={headers:{Authorization:`Bearer ${pe.getState().userLogin.userInfo.token}`}};await Ie.a.delete(`/api/orders/${t}`,a)})).then(()=>s(yt()))};return Object(a.useEffect)(()=>{window.scrollTo(0,0),d&&d.isAdmin?s(yt()):t.push("/")},[s,t]),Object(ve.jsxs)(me.a,{className:"mt-5 p-5",children:[Object(ve.jsx)("h2",{children:"Orders"}),c?Object(ve.jsx)(Ce,{}):i?Object(ve.jsx)("h1",{children:i}):Object(ve.jsxs)(ht.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(ve.jsx)("thead",{children:Object(ve.jsxs)("tr",{children:[Object(ve.jsx)("th",{children:"ID"}),Object(ve.jsx)("th",{children:"USER"}),Object(ve.jsx)("th",{children:"DATE"}),Object(ve.jsx)("th",{children:"TOTAL"}),Object(ve.jsx)("th",{children:"PAID"}),Object(ve.jsx)("th",{children:"DELIVERED"}),Object(ve.jsx)("th",{})]})}),Object(ve.jsx)("tbody",{children:void 0===o?Object(ve.jsx)("tbody",{children:Object(ve.jsx)(Ve.a,{variant:"light",onClick:window.location.reload(),children:Object(ve.jsx)(Ce,{})})}):Object(ve.jsx)(ve.Fragment,{children:o.map(e=>Object(ve.jsxs)("tr",{children:[Object(ve.jsx)("th",{scope:"row",children:e._id}),Object(ve.jsx)("td",{children:e.user&&e.user.name}),Object(ve.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(ve.jsxs)("td",{children:["$",e.totalPrice]}),Object(ve.jsx)("td",{children:e.isPaid?Object(ve.jsx)("span",{style:{color:"green"},children:e.paidAt.substring(0,10)}):Object(ve.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(ve.jsx)("td",{children:e.isDelivered?Object(ve.jsx)("span",{style:{color:"green"},children:e.deliveredAt.substring(0,10)}):Object(ve.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(ve.jsxs)("td",{children:[Object(ve.jsx)(Re.LinkContainer,{to:`order/${e._id}`,children:Object(ve.jsx)(Ve.a,{variant:"light",className:"btn-sm",children:Object(ve.jsx)("i",{className:"fas fa-edit"})})}),Object(ve.jsx)(Ve.a,{variant:"danger",className:"btn-sm",onClick:()=>l(e._id),children:Object(ve.jsx)("i",{className:"fas fa-trash"})})]})]},e._id))})})]})]})}class Tt extends a.Component{render(){return Object(ve.jsxs)(ge.BrowserRouter,{children:[Object(ve.jsx)(ke.d,{render:e=>{let{history:t,match:s}=e;return Object(ve.jsx)(st,{history:t,match:s})}}),Object(ve.jsxs)("div",{style:{minHeight:"80vh"},children:[Object(ve.jsx)(ke.d,{path:"/login",component:dt}),Object(ve.jsx)(ke.d,{path:"/register",component:jt}),Object(ve.jsx)(ke.d,{path:"/shipping",component:Ot}),Object(ve.jsx)(ke.d,{path:"/payment",component:gt}),Object(ve.jsx)(ke.d,{path:"/placeorder",component:ft}),Object(ve.jsx)(ke.d,{path:"/order/:id",component:Ct}),Object(ve.jsx)(ke.d,{path:"/profile",component:mt}),Object(ve.jsx)(ke.d,{path:"/admin/userlist",component:St}),Object(ve.jsx)(ke.d,{path:"/admin/productslist",component:wt}),Object(ve.jsx)(ke.d,{path:"/orderslist",component:kt}),Object(ve.jsx)(ke.d,{path:"/search/:keyword",component:He,exact:!0}),Object(ve.jsx)(ke.d,{path:"/page/:pageNumber",component:He,exact:!0}),Object(ve.jsx)(ke.d,{path:"/search/:keyword/page/:pageNumber",component:He,exact:!0}),Object(ve.jsx)(ke.d,{path:"/",component:He,exact:!0}),Object(ve.jsx)(ke.d,{path:"/product/:id",component:Je,exact:!0}),Object(ve.jsx)(ke.d,{path:"/admin/user/:id/edit",component:Lt,exact:!0}),Object(ve.jsx)(ke.d,{path:"/admin/product/:id/edit",component:Pt,exact:!0}),Object(ve.jsx)(ke.d,{path:"/cart/:id?",component:nt})]}),Object(ve.jsx)(at,{})]})}}var Nt=e=>{e&&e instanceof Function&&s.e(3).then(s.bind(null,128)).then(t=>{let{getCLS:s,getFID:a,getFCP:r,getLCP:c,getTTFB:n}=t;s(e),a(e),r(e),c(e),n(e)})};c.a.render(Object(ve.jsx)(n.a,{store:pe,children:Object(ve.jsx)(Tt,{})}),document.getElementById("root")),Nt()},80:function(e,t,s){},81:function(e,t,s){}},[[111,1,2]]]);
//# sourceMappingURL=main.3e639b94.chunk.js.map